(this.webpackJsonpmrbitcoin=this.webpackJsonpmrbitcoin||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(22),o=n.n(r),s=n(16),i=(n(51),n(6)),l=n(13),u=(n(52),n(2)),h=n.n(u),d=n(5),m=n(7),f=n(8),p=n(10),j=n(9),b=n(27),v=n.n(b),x=n(0);function g(e){var t=e.moves,n=e.toUser;return t&&Object(x.jsxs)("ul",{className:"move-list",children:[n&&Object(x.jsx)("li",{className:"title",children:"Your moves:"}),t.map((function(e){return n&&e.contact._id!==n._id?null:Object(x.jsxs)("li",{class:"list-item",children:[n&&Object(x.jsxs)("p",{children:["You transfer ",Object(x.jsxs)("span",{children:["$ ",e.amount]})," ",v()(e.at).fromNow()," to ",n.name]}),!n&&Object(x.jsxs)("p",{style:{textAlign:"left"},children:["You transfer ",Object(x.jsxs)("span",{children:["$ ",e.amount]})," ",v()(e.at).fromNow()," to ",e.contact.name]})]})}))]})}var O=n(3),w={getLoggedInUser:function(){var e=sessionStorage.getItem(y);return console.log("user",e),JSON.parse(e)},signup:function(e){sessionStorage.setItem(y,JSON.stringify(e))},updateUser:function(e,t){var n=JSON.parse(sessionStorage.getItem(y));n.coins=n.coins-e;var a=new Date;return n.moves.unshift({at:a.toISOString(),amount:e,contact:t}),sessionStorage.setItem(y,JSON.stringify(n)),n}},y="loggedinUser";var C={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0},saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t)||null)}};var M=n(56).default,S={getRate:function(e){return M.get("https://blockchain.info/tobtc?currency=USD&value=".concat(e)).then((function(e){return console.log("res",e),e.data})).catch((function(e){console.log("Service got Error:",e)}))},getMarketPrice:function(){var e=C.loadFromStorage(N);if(!e)return M.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").then((function(t){return e=t.data,C.saveToStorage(N,e),console.log("res.data",t.data),t.data})).catch((function(e){console.log("Service got Error:",e)}));return e},getAvgBlockSize:function(){return M.get("https://api.blockchain.info/charts/avg-block-size?timespan=5months&format=json&cors=true").then((function(e){return console.log("res.data",e.data),e.data})).catch((function(e){console.log("Service got Error:",e)}))}},N="market";function k(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(O.a)(Object(O.a)({},e),{},{coins:6e4,moves:[]}),t.next=3,w.signup(a);case 3:c=t.sent,n({type:"SET_USER",userAfterSave:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function D(){return function(){var e=Object(d.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getLoggedInUser();case 2:n=e.sent,console.log("user",n),t({type:"GET_USER",user:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var B=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={user:null,currBtc:null},e.componentDidMount=function(){e.loadCurrUser(),e.loadBtcRate()},e.loadCurrUser=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUser();case 2:e.setState({user:e.props.user});case 3:case"end":return t.stop()}}),t)}))),e.loadBtcRate=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUser();case 2:return t.next=4,e.props.getBtcRate(e.state.user.coins);case 4:e.setState({currBtc:e.props.btc});case 5:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.user,n=e.currBtc;return t&&Object(x.jsx)("div",{className:"homePage-container",children:Object(x.jsxs)("div",{className:"user-details",children:[Object(x.jsxs)("h3",{className:"title",children:["Hello ",t.name,","]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"item",children:Object(x.jsxs)("p",{children:["you have ",Object(x.jsxs)("span",{className:"user-coins",children:["$",t.coins.toFixed(2)]})," coins \ud83d\udcb0"]})}),Object(x.jsx)("div",{className:"item",children:Object(x.jsxs)("p",{children:["you have ",Object(x.jsxs)("span",{className:"user-bitcoin",children:["$",n]})," bitcoin \ud83d\udcb0"]})})]}),Object(x.jsxs)("div",{className:"user-moves",children:[Object(x.jsx)("h3",{className:"moves-title",children:"Your last moves"}),Object(x.jsx)(g,{moves:t.moves.slice(0,3)})]})]})})}}]),n}(a.Component),A={setUser:k,getUser:D,getBtcRate:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getRate(e);case 2:a=t.sent,n({type:"GET_BTC_RATE",btcRate:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},T=Object(s.b)((function(e){return{user:e.userReducer.user,btc:e.userReducer.btc}}),A)(B),_=n(28),z=function(e){return Object(x.jsxs)("div",{className:"chart-container",children:[Object(x.jsx)("h1",{children:e.title}),Object(x.jsx)(_.Sparklines,{data:e.data,children:Object(x.jsx)(_.SparklinesLine,{className:"chart",color:"#59aaea"})})]})},F=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={marketPrice:null,avgBlockSize:null},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.loadMarketPrice(),this.loadAvgBlockSize()}},{key:"loadMarketPrice",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getMarketPrice();case 2:t=e.sent,this.setState({marketPrice:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAvgBlockSize",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAvgBlockSize();case 2:t=e.sent,console.log("avgBlockSize",t),this.setState({avgBlockSize:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMarketPriceValues",value:function(){return this.state.marketPrice.values.map((function(e){return e.y}))}},{key:"getAvgBlockSize",value:function(){return this.state.avgBlockSize.values.map((function(e){return e.y}))}},{key:"render",value:function(){var e=this.state,t=e.marketPrice,n=e.avgBlockSize;return t&&n?Object(x.jsxs)("div",{children:[Object(x.jsx)(z,{title:t.name,data:this.getMarketPriceValues(),color:"red"}),Object(x.jsx)(z,{title:n.name,data:this.getAvgBlockSize(),color:"red"})]}):Object(x.jsx)("h1",{children:"Chart Loading..."})}}]),n}(a.Component);function U(e){var t=e.contact;return console.log("contact",t),Object(x.jsx)(l.b,{to:"/contacts/"+t._id,children:Object(x.jsx)("li",{className:"contact",style:{backgroundImage:"url(".concat(t.img,")")},children:Object(x.jsxs)("div",{className:"details-container",children:[Object(x.jsxs)("div",{className:"item name",children:["Name: ",Object(x.jsx)("h5",{children:t.name})]}),Object(x.jsxs)("div",{className:"item email",children:["Email: ",Object(x.jsx)("h5",{children:t.email})]}),Object(x.jsxs)("div",{className:"item phone",children:["Phone: ",Object(x.jsx)("h5",{children:t.phone})]})]})})})}function E(e){var t=e.contacts,n=(e.onSelectedContact,e.onRemoveContact);return Object(x.jsx)("ul",{className:"contact-list",children:t.map((function(e){return Object(x.jsx)(U,{contact:e,onRemoveContact:n},e._id)}))})}var H,R=n(18),W=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",phone:"",email:""},e.handleChange=function(t){var n=t.target,a=n.name,c="number"===n.type?+n.value:n.value;e.setState(Object(R.a)({},a,c),(function(){e.props.onFilter(Object(O.a)({},e.state))}))},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.phone,a=e.email;return Object(x.jsx)("div",{className:"filter",children:Object(x.jsxs)("form",{className:"contact-filter",onSubmit:function(e){return e.preventDefault()},children:[Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",id:"name",name:"name",value:t,onChange:this.handleChange,placeholder:"Name.."})}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",id:"phone",name:"phone",value:n,onChange:this.handleChange,placeholder:"Phone.."})}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"text",id:"email",name:"email",value:a,onChange:this.handleChange,placeholder:"Email.."})})]})})}}]),n}(a.Component),P={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a=C.loadFromStorage(L);a&&a.length||(a=I),H=a,e&&(H=X(e)),C.saveToStorage(L,H),t(Y(H))}))},getContactById:function(e){return new Promise((function(t,n){var a=C.loadFromStorage(L).find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=H.findIndex((function(t){return t._id===e}));-1!==a&&H.splice(a,1),C.saveToStorage(L,H),t(H)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=H.findIndex((function(t){return e._id===t._id}));-1!==a&&(H[a]=e),C.saveToStorage(L,H),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),H.push(e),C.saveToStorage(L,H),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:"",img:""}}},L="contact",I=[{_id:"5a56640269f443a5d64b32ca",img:"https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Dominique Soto",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",img:"https://images.unsplash.com/photo-1557862921-37829c790f19?ixid=MXwxMjA3fDB8MHxzZWFyY2h8NHx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",img:"https://images.unsplash.com/photo-1581803118522-7b72a50f7e9f?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",img:"https://images.unsplash.com/photo-1564564321837-a57b7070ac4f?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402a6499c1d4da9220a",img:"https://images.unsplash.com/photo-1590086782957-93c06ef21604?ixid=MXwxMjA3fDB8MHxzZWFyY2h8OXx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",img:"https://images.unsplash.com/photo-1533227268428-f9ed0900fb3b?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTJ8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",img:"https://images.unsplash.com/photo-1594744803329-e58b31de8bf5?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8d29tYW58ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",img:"https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Nnx8d29tYW58ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",img:"https://images.unsplash.com/photo-1493666438817-866a91353ca9?ixid=MXwxMjA3fDB8MHxzZWFyY2h8N3x8d29tYW58ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",img:"https://images.unsplash.com/photo-1488716820095-cbe80883c496?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTF8fHdvbWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",img:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTJ8fHdvbWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",img:"https://images.unsplash.com/photo-1553267751-1c148a7280a1?ixid=MXwxMjA3fDB8MHxzZWFyY2h8NXx8bWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",img:"https://images.unsplash.com/photo-1583195764036-6dc248ac07d9?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTN8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",img:"https://images.unsplash.com/photo-1480429370139-e0132c086e2a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTh8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",img:"https://images.unsplash.com/photo-1566492031773-4f4e44671857?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTd8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",img:"https://images.unsplash.com/flagged/photo-1574874897534-036671407eda?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjR8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",img:"https://images.unsplash.com/photo-1577880216142-8549e9488dad?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MzJ8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",img:"https://images.unsplash.com/photo-1559548331-f9cb98001426?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mzd8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}];function Y(e){return e.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0}))}function X(e){return console.log("term",e),e.name=e.name.toLocaleLowerCase(),I.filter((function(t){return t.name.toLocaleLowerCase().includes(e.name)&&t.phone.toLocaleLowerCase().includes(e.phone)&&t.email.toLocaleLowerCase().includes(e.email)}))}var q=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={filterBy:null},e.loadContacts=function(){e.props.loadContacts(e.state.filterBy)},e.onFilter=function(t){e.setState({filterBy:t},e.loadContacts)},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.loadContacts()}},{key:"render",value:function(){var e=this.props.contacts;return e&&Object(x.jsxs)("div",{className:"contacts-container container",children:[Object(x.jsx)(W,{onFilter:this.onFilter}),Object(x.jsx)(l.b,{className:"add-contact",to:"/contacts/edit",children:Object(x.jsx)("i",{class:"fas fa-plus"})}),Object(x.jsx)(E,{contacts:e})]})}}]),n}(a.Component),G={loadContacts:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getContacts(e);case 2:a=t.sent,n({type:"SET_CONTACTS",contacts:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.remove(e);case 2:n({type:"REMOVE_CONTACT",contactId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Z=Object(s.b)((function(e){return{contacts:e.contactReducer.contacts}}),G)(q),J=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={contact:null,errMsg:""},e.handleChange=function(t){var n=t.target;console.log("this.state.contact",e.state.contact);var a=n.name,c="number"===n.type?+n.value:n.value;e.setState((function(e){return{contact:Object(O.a)(Object(O.a)({},e.contact),{},Object(R.a)({},a,c))}}))},e.onSaveContact=function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.saveContact(e.state.contact),e.props.history.push("/contacts");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,e.prev=1,!t){e.next=8;break}return e.next=5,P.getContactById(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=P.getEmptyContact();case 9:n=e.t0,this.setState({contact:n}),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),this.setState({errMsg:"contact Not Found"});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.contact)return Object(x.jsx)("div",{children:this.state.errMsg||"Loading"});var e=this.state.contact,t=e.name,n=e.email,a=e.phone,c=e.img,r=this.state.contact;return Object(x.jsxs)("form",{className:"contact-edit",onSubmit:this.onSaveContact,children:[!r&&Object(x.jsxs)("h3",{children:[Object(x.jsx)("i",{class:"fas fa-edit"})," your contact"]}),r&&Object(x.jsxs)("h3",{children:[Object(x.jsx)("i",{class:"fas fa-edit"})," ",r.name]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{required:!0,type:"text",id:"name",value:t,onChange:this.handleChange,name:"name"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{required:!0,type:"text",id:"email",value:n,onChange:this.handleChange,name:"email"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(x.jsx)("input",{required:!0,type:"text",id:"phone",value:a,onChange:this.handleChange,name:"phone"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"img",children:"Img"}),Object(x.jsx)("input",{required:!0,type:"text",id:"img",value:c,onChange:this.handleChange,name:"img"})]}),Object(x.jsx)("p",{children:this.state.errMsg}),Object(x.jsx)("button",{class:"app-button",children:"Save Contact"})]})}}]),n}(a.Component),V={saveContact:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("contact",e),a=!e._id,t.next=4,P.saveContact(e);case 4:c=t.sent,n(a?{type:"ADD_CONTACT",contact:c}:{type:"UPDATE_CONTACT",updatedContact:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},$=Object(s.b)(null,V)(J),K=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={user:null},e.handleChange=function(t){var n=t.target,a=n.name,c="number"===n.type?+n.value:n.value;e.setState((function(e){return{user:Object(O.a)(Object(O.a)({},e.user),{},Object(R.a)({},a,c))}}))},e.doSignUp=function(t){t.preventDefault(),e.props.setUser(e.state.user),e.props.history.push("/")},e}return Object(f.a)(n,[{key:"render",value:function(){return Object(x.jsx)("section",{className:"signup-container",children:Object(x.jsxs)("div",{className:"signup",children:[Object(x.jsx)("h4",{className:"title",children:"Signup to MrBitcoin"}),Object(x.jsx)("form",{children:Object(x.jsx)("input",{name:"name",type:"text",placeholder:"Username",onChange:this.handleChange})}),Object(x.jsx)("button",{className:"signup-button app-button",onClick:this.doSignUp,children:"Signup"})]})})}}]),n}(a.Component),Q={setUser:k},ee=Object(s.b)((function(e){return{user:e.contactReducer.user}}),Q)(K),te=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={amount:""},e.handleChange=function(t){var n=t.target,a="number"===n.type?+n.value:n.value;e.setState((function(e){return{amount:a}}))},e.onTransfer=function(){if(e.props.maxCoins<e.state.amount)return alert("you dont have this money");e.setState({amount:""}),e.props.onTransferCoins(e.state.amount)},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){console.log("this.props",this.props)}},{key:"render",value:function(){var e=this.props.contact,t=this.state.amount;return console.log("amount",t),e&&Object(x.jsx)("section",{className:"transfer-fund",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"number",name:"amount",value:t,onChange:this.handleChange}),Object(x.jsx)("button",{className:"transfer-button app-button",onClick:this.onTransfer,children:"Transfer"})]})})}}]),n}(a.Component),ne=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={contact:null},e.loadCurrUser=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUser();case 2:case"end":return t.stop()}}),t)}))),e.onRemoveContact=function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.deleteContact(n);case 2:e.props.history.push("/contacts");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onTransferCoins=function(t){e.props.updateUser(t,e.state.contact),e.loadCurrUser()},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.loadContact(),this.loadCurrUser()}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&this.loadContact()}},{key:"loadContact",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getContactById(this.props.match.params.id);case 2:t=e.sent,this.setState({contact:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.contact,n=this.props.user;return console.log("user from component",n),console.log("contact && user",t&&n),t&&n&&Object(x.jsxs)("section",{className:"contact-details container",children:[Object(x.jsxs)("div",{className:"contact-details-container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"contact-title",children:t.name}),Object(x.jsxs)("div",{className:"contact-details-items",children:[Object(x.jsx)("div",{className:"contact-img-container",children:Object(x.jsx)("img",{className:"contact-img",src:t.img,alt:""})}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("h5",{children:["Phone:",t.phone]}),Object(x.jsxs)("h5",{children:["Email:",t.email]})]})]})]}),Object(x.jsxs)("footer",{children:[Object(x.jsx)(l.b,{className:"edit footer-button",to:"/contacts/edit/"+t._id,children:Object(x.jsx)("i",{class:"fas fa-edit"})}),Object(x.jsx)("button",{className:"remove-contact footer-button",onClick:function(){return e.onRemoveContact(t._id)},children:Object(x.jsx)("i",{class:"fas fa-trash-alt"})})]})]}),Object(x.jsxs)("div",{className:"user-moves-details",children:[Object(x.jsx)(te,{contact:t,onTransferCoins:this.onTransferCoins,maxCoins:n.coins}),Object(x.jsx)(g,{moves:n.moves,toUser:t})]})]})}}]),n}(a.Component),ae={getUser:D,updateUser:function(e,t){return function(){var n=Object(d.a)(h.a.mark((function n(a){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.updateUser(e,t);case 2:c=n.sent,console.log("amount",e),console.log("contact",t),console.log("newUser",c),a({type:"UPDATE_USER",newUser:c});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},ce=Object(s.b)((function(e){return{user:e.userReducer.user}}),ae)(ne),re=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={toggleNav:!1},e.logout=function(){sessionStorage.setItem("loggedinUser",null),e.props.history.push("/signup")},e.openNavbar=function(){console.log("this.state.toggleNav",e.state.toggleNav),e.setState({toggleNav:!e.state.toggleNav})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=JSON.parse(sessionStorage.getItem("loggedinUser")),t=this.state.toggleNav?"open_navbar":"";return Object(x.jsx)("section",{className:"app-header-container",children:Object(x.jsxs)("div",{className:"app-header container",children:[Object(x.jsx)("h1",{children:"Mr.bitcoin"}),Object(x.jsx)("div",{className:"bars",onClick:this.openNavbar,children:Object(x.jsx)("i",{className:"fas fa-bars"})}),Object(x.jsx)("ul",{className:t,children:e?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{children:Object(x.jsx)(l.c,{exact:!0,to:"/",activeClassName:"active-nav",children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)(l.c,{exact:!0,to:"/contacts",activeClassName:"active-nav",children:"Conatacs"})}),Object(x.jsx)("li",{children:Object(x.jsx)(l.c,{exact:!0,to:"/statistic",activeClassName:"active-nav",children:"Statistic"})}),Object(x.jsx)("li",{className:"logout",onClick:this.logout,children:"Logout"})]}):Object(x.jsx)("li",{children:Object(x.jsx)(l.c,{exact:!0,to:"/signup",activeClassName:"active-nav",children:"Sign Up"})})})]})})}}]),n}(a.Component),oe=Object(i.g)(re);n(76);var se=function(){var e=function(e){return sessionStorage.getItem("loggedinUser")||!1?Object(x.jsx)(i.b,{component:e.component,path:e.path}):Object(x.jsx)(i.a,{to:"/signup"})};return Object(x.jsx)("div",{className:"app",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(oe,{}),Object(x.jsx)("div",{className:"main-container",children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{path:"/statistic",component:F}),Object(x.jsx)(e,{path:"/contacts/edit/:id?",component:$}),Object(x.jsx)(e,{path:"/contacts/:id",component:ce}),Object(x.jsx)(i.b,{path:"/signup",component:ee}),Object(x.jsx)(e,{path:"/contacts",component:Z}),Object(x.jsx)(e,{path:"/",component:T})]})})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},le=n(19),ue=n(41),he=n(42),de={contacts:[],currContact:null};var me={user:null,btc:null};var fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,pe=Object(le.c)({contactReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(O.a)(Object(O.a)({},e),{},{contacts:t.contacts});case"SET_CONTACT":return Object(O.a)(Object(O.a)({},e),{},{currContact:t.contact});case"ADD_CONTACT":return Object(O.a)(Object(O.a)({},e),{},{contacts:[].concat(Object(he.a)(e.contacts),[t.contact])});case"REMOVE_CONTACT":return Object(O.a)(Object(O.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.contactId}))});case"UPDATE_CONTACT":var n=t.updatedContact;return Object(O.a)(Object(O.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===n._id?n:e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"GET_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});case"GET_BTC_RATE":return Object(O.a)(Object(O.a)({},e),{},{btc:t.btcRate});case"UPDATE_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.newUser});default:return e}}}),je=Object(le.e)(pe,fe(Object(le.a)(ue.a)));o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(s.a,{store:je,children:Object(x.jsx)(se,{})})}),document.getElementById("root")),ie()}},[[77,1,2]]]);
//# sourceMappingURL=main.7ade0e27.chunk.js.map